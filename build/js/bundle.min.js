!function(){const e=document.querySelector(".js-header__centro"),t=document.querySelector(".js-submenu__boton-consulta"),c=document.querySelector(".js-submenu__boton-chat"),n=document.querySelector(".js-contacto"),i=document.querySelector(".js-newsletter__form"),o=document.querySelector(".js-item__grid"),a=document.querySelector(".js-menus__cesta-numero"),s=document.querySelector(".js-menus__cesta");let r=[];const d=new class{limpiarHTML(e){for(;e.firstChild;)e.removeChild(e.firstChild)}leerArticulo(e){if(e.children[0].classList.contains("c-item__descuento")){const t={imagen:e.querySelector("img").src,marca:e.querySelector(".c-item__contenido-h4 span").textContent,nombre:e.querySelector(".c-item__contenido-h4").textContent,precio:e.querySelector(".c-item__contenido-precio").textContent,descuento:e.querySelector(".c-item__descuento p").textContent,id:e.querySelector(".c-button").getAttribute("data-id"),cantidad:1};this.agregarCarrito(t)}else{const t={imagen:e.querySelector("img").src,marca:e.querySelector(".c-item__contenido-h4 span").textContent,nombre:e.querySelector(".c-item__contenido-h4").textContent,precio:e.querySelector(".c-item__contenido-precio").textContent,id:e.querySelector(".c-button").getAttribute("data-id"),cantidad:1};this.agregarCarrito(t)}}agregarCarrito(e){if(r.some(t=>t.id===e.id)){const t=r.map(t=>t.id===e.id?(t.cantidad++,t):t);r=[...t],this.imprimircarrito(r)}else r=[...r,e],this.imprimircarrito(r)}imprimircarrito(e){if(this.limpiarHTML(s),this.limpiarHTML(s.parentElement.children[1]),e.forEach(e=>{const{imagen:t,marca:c,nombre:n,precio:i,cantidad:o}=e,a=document.createElement("li");a.classList.add("c-submenus__secciones","c-submenus__secciones--mod3"),a.innerHTML=`\n                <div class="c-submenus__img">\n                    <img src="${t}" alt="imagen producto">\n                    </div>\n                    <div class="c-submenus__contenido">\n                    <p class="c-submenus__contenido-nombre"><span>${c}</span> ${n}</p>\n                    <p class="c-submenus__contenido-precio"><span>${i}</span></p>\n                    <p class="c-submenus__contenido-cantidad">Cantidad: ${o}<a href="#" class="c-submenus__eliminar">Eliminar</a></p>\n                </div>\n                `,s.appendChild(a)}),0!=s.childElementCount){let t=e.reduce((e,t)=>e+t.precio,0);const c=document.createElement("div");c.innerHTML=`\n                    <div class="c-submenus__separador">total: ${t}</div>\n                    <div class="c-submenus__resultado">\n                        <a href="#" class="c-submenus__ver-cesta">Ver la cesta</a>\n                        <button class="c-button c-button--amarillo">tramitar</button>\n                    </div>\n                `,s.parentElement.children[1].appendChild(c)}this.comprobarCarrito(e)}comprobarCarrito(e){if(0==e.length){const e=document.createElement("li");e.classList.add("c-submenus__secciones"),e.innerHTML="\n                    <p>En este momento no hay productos en tu cesta</p>\n                ",s.appendChild(e),d.numeroArticulos(0)}else{const t=e.reduce((e,t)=>e+t.cantidad,0);d.numeroArticulos(t)}}numeroArticulos(e){this.limpiarHTML(a);const t=document.createElement("p");t.textContent=e,a.appendChild(t)}imprimirDestacados(e){e.forEach(e=>{const{marca:t,nombre:c,imagen:n,precio:i,descuento:a,id:s}=e;if(0==a){const e=document.createElement("div");e.classList.add("c-item__articulo"),e.innerHTML=`\n                        <div class='c-item__img'><img src='${n}' alt='imagen producto'></div>\n                        <div class='c-item__contenido'>\n                            <h4 class='c-item__contenido-h4'><span>${t}</span> ${c}</h4>\n                            <p class='c-item__contenido-precio'>${i} €</p>\n                            <button class="c-button c-button--amarillo" data-id=${s}>Añadir a la cesta</button>\n                        </div>\n                    `,o.appendChild(e)}else{const e=i*((100-a)/100),r=document.createElement("div");r.classList.add("c-item__articulo"),r.innerHTML=`                        \n                        <div class='c-item__descuento'>\n                            <p>${a}%</p>\n                        </div>\n                        <div class='c-item__img'><img src='${n}' alt='imagen producto'></div>\n                        <div class='c-item__contenido'>\n                            <h4 class='c-item__contenido-h4'><span>${t}</span> ${c}</h4>\n                            <p class='c-item__contenido-precio'>${i} € <span class='c-item__contenido-precio--old'>${e} €</span></p>\n                            <button class="c-button c-button--amarillo" data-id=${s}>Añadir a la cesta</button>\n                        </div>\n                    `,o.appendChild(r)}})}imprimirAlerta(){console.log("soy una alerta")}};function l(){n.children[1].classList.toggle("c-contacto__screen--mod"),n.children[0].children[0].classList.toggle("c-contacto__img--mod"),n.children[0].children[0].classList.toggle("fa-envelope"),n.children[0].children[0].classList.toggle("fa-xmark"),n.children[0].children[0].classList.toggle("fa-solid"),n.children[0].children[0].classList.toggle("fa-regular")}function m(){i.children[2].classList.add("c-newsletter__form-radio--mod"),i.children[0].addEventListener("input",()=>{""!=i.children[0].value?i.children[1].classList.add("c-newsletter__label--mod"):i.children[1].classList.remove("c-newsletter__label--mod")})}window.addEventListener("DOMContentLoaded",()=>{d.comprobarCarrito(r),d.imprimirDestacados(destacados),t.addEventListener("click",l),n.children[0].addEventListener("click",l),i.children[0].addEventListener("click",m),c.addEventListener("click",()=>{console.log("has pulsado el boton del chat")}),e.addEventListener("click",()=>{console.log("has pulsado el buscador")}),o.addEventListener("click",e=>{if(e.target.classList.contains("c-button")){const t=e.target.parentElement.parentElement;d.leerArticulo(t)}})})}();const destacados=[{marca:"marca",nombre:"producto 1",imagen:"build/img/destacados/destacados1.jpg",precio:50,descuento:0,sexo:"h",id:1},{marca:"marca",nombre:"producto 2",imagen:"build/img/destacados/destacados2.jpg",precio:50,descuento:10,sexo:"m",id:2},{marca:"marca",nombre:"producto 3",imagen:"build/img/destacados/destacados3.jpg",precio:50,descuento:15,sexo:"u",id:3},{marca:"marca",nombre:"producto 4",imagen:"build/img/destacados/destacados4.jpg",precio:50,descuento:50,sexo:"u",id:4},{marca:"marca",nombre:"producto 5",imagen:"build/img/destacados/destacados5.jpg",precio:50,descuento:0,sexo:"u",id:5}];
//# sourceMappingURL=bundle.js.map
