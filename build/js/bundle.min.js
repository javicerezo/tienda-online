!function(){const e=document.querySelector(".js-header__centro"),t=document.querySelector(".js-submenu__boton-consulta"),c=document.querySelector(".js-submenu__boton-chat"),n=document.querySelector(".js-contacto"),o=document.querySelector(".js-newsletter__form"),i=document.querySelector(".js-item__grid"),s=document.querySelector(".js-menus__cesta-numero"),a=document.querySelector(".js-menus__cesta");let d=[];const r=new class{limpiarHTML(e){for(;e.firstChild;)e.removeChild(e.firstChild)}leerArticulo(e){const t={imagen:e.querySelector("img").src,marca:e.querySelector(".c-item__contenido-titulo:first-Child").textContent,nombre:e.querySelector(".c-item__contenido-titulo:last-Child").textContent,precioNew:parseInt(e.querySelector(".c-item__contenido-precio").textContent),precio:parseInt(e.querySelector(".c-item__contenido-precio--old").textContent),descuento:parseInt(e.querySelector(".c-item__descuento p").textContent),id:e.querySelector(".c-button").getAttribute("data-id"),cantidad:1};this.agregarCarrito(t)}agregarCarrito(e){if(d.some(t=>t.id===e.id)){const t=d.map(t=>t.id===e.id?(t.cantidad++,t):t);d=[...t],this.imprimircarrito(d)}else d=[...d,e],this.imprimircarrito(d)}imprimircarrito(e){if(console.log(e),this.limpiarHTML(a),this.limpiarHTML(a.parentElement.children[1]),e.forEach(e=>{const{imagen:t,marca:c,nombre:n,precioNew:o,precio:i,descuento:s,cantidad:d}=e,r=document.createElement("li");r.classList.add("c-submenus__secciones","c-submenus__secciones--mod3"),r.innerHTML=`\n                    <div class="c-submenus__img">\n                        <img src="${t}" alt="imagen producto">\n                    </div>\n                    <div class="c-submenus__contenido">\n                        <p class="c-submenus__nombre"><span>${c}</span> - ${n}</p>\n                        <div class='c-submenus__precios'>\n                        <p><span>${o} €</span></p>\n                        <p>(${s}%) - <span class="c-submenus__precios-old">${i}€</span></p>\n                        </div>\n                        <p class="c-submenus__contenido-cantidad">Cantidad: ${d} €<a href="#" class="c-submenus__eliminar">Eliminar</a></p>\n                    </div>\n                `,a.appendChild(r),0==s&&console.log(" no tiene descuento")}),0!=a.childElementCount){let t=e.reduce((e,t)=>e+t.cantidad*t.precio,0);const c=document.createElement("div");c.innerHTML=`\n                    <div class="c-submenus__separador">total: ${t}</div>\n                    <div class="c-submenus__resultado">\n                        <a href="#" class="c-submenus__ver-cesta">Ver la cesta</a>\n                        <button class="c-button c-button--amarillo">tramitar</button>\n                    </div>\n                `,a.parentElement.children[1].appendChild(c)}this.comprobarCarrito(e)}comprobarCarrito(e){if(0==e.length){const e=document.createElement("li");e.classList.add("c-submenus__secciones"),e.innerHTML="\n                    <p>En este momento no hay productos en tu cesta.</p>\n                ",a.appendChild(e),r.numeroArticulos(0)}else{const t=e.reduce((e,t)=>e+t.cantidad,0);r.numeroArticulos(t)}}numeroArticulos(e){this.limpiarHTML(s);const t=document.createElement("p");t.textContent=e,s.appendChild(t)}imprimirDestacados(e){e.forEach(e=>{const{marca:t,nombre:c,imagen:n,precio:o,descuento:s,id:a}=e,d=o*((100-s)/100),r=document.createElement("div");r.classList.add("c-item__articulo"),r.innerHTML=`                        \n                    <div class='c-item__descuento'>\n                        <p>${s}%</p>\n                    </div>\n                    <div class='c-item__img'>\n                        <img src='${n}' alt='imagen producto'>\n                    </div>                        \n                    <div class='c-item__contenido'>\n                        <div class='c-item__contenido--mod'>\n                            <p class='c-item__contenido-titulo'><span>${t}</span></p>\n                            <p class='c-item__contenido-titulo'>${c}</p>\n                        </div>\n                        <div class ='c-item__contenido--mod'>\n                            <p class='c-item__contenido-precio'>${d} €</p>  \n                            <p class='c-item__contenido-precio--old'>${o} €</p>                        \n                    </div>\n                    <button class="c-button c-button--amarillo" data-id=${a}>Añadir a la cesta</button>\n                    </div>\n                `,i.appendChild(r)});for(let e=0;e<i.childElementCount;e++){0===parseInt(i.children[e].children[0].children[0].textContent)&&(i.children[e].children[0].classList.add("u-display--none"),i.children[e].children[2].children[1].children[1].classList.add("u-display--none"))}}imprimirAlerta(){console.log("soy una alerta")}};function l(){n.children[1].classList.toggle("c-contacto__screen--mod"),n.children[0].children[0].classList.toggle("c-contacto__img--mod"),n.children[0].children[0].classList.toggle("fa-envelope"),n.children[0].children[0].classList.toggle("fa-xmark"),n.children[0].children[0].classList.toggle("fa-solid"),n.children[0].children[0].classList.toggle("fa-regular")}function m(){o.children[2].classList.add("c-newsletter__form-radio--mod"),o.children[0].addEventListener("input",()=>{""!=o.children[0].value?o.children[1].classList.add("c-newsletter__label--mod"):o.children[1].classList.remove("c-newsletter__label--mod")})}window.addEventListener("DOMContentLoaded",()=>{r.comprobarCarrito(d),r.imprimirDestacados(destacados),t.addEventListener("click",l),n.children[0].addEventListener("click",l),o.children[0].addEventListener("click",m),c.addEventListener("click",()=>{console.log("has pulsado el boton del chat")}),e.addEventListener("click",()=>{console.log("has pulsado el buscador")}),i.addEventListener("click",e=>{if(e.target.classList.contains("c-button")){const t=e.target.parentElement.parentElement;r.leerArticulo(t)}})})}();const destacados=[{marca:"marca",nombre:"producto 1",imagen:"build/img/destacados/destacados1.jpg",precio:50,descuento:0,sexo:"h",id:1},{marca:"marca",nombre:"producto 2",imagen:"build/img/destacados/destacados2.jpg",precio:50,descuento:10,sexo:"m",id:2},{marca:"marca",nombre:"producto 3",imagen:"build/img/destacados/destacados3.jpg",precio:50,descuento:15,sexo:"u",id:3},{marca:"marca",nombre:"producto 4",imagen:"build/img/destacados/destacados4.jpg",precio:50,descuento:50,sexo:"u",id:4},{marca:"marca",nombre:"producto 5",imagen:"build/img/destacados/destacados5.jpg",precio:50,descuento:0,sexo:"u",id:5},{marca:"marca",nombre:"producto 5",imagen:"build/img/destacados/destacados5.jpg",precio:50,descuento:0,sexo:"u",id:5},{marca:"marca",nombre:"producto 5",imagen:"build/img/destacados/destacados5.jpg",precio:50,descuento:0,sexo:"u",id:5},{marca:"marca",nombre:"producto 1",imagen:"build/img/destacados/destacados1.jpg",precio:50,descuento:0,sexo:"h",id:1},{marca:"marca",nombre:"producto 1",imagen:"build/img/destacados/destacados1.jpg",precio:50,descuento:0,sexo:"h",id:1},{marca:"marca",nombre:"producto 1",imagen:"build/img/destacados/destacados1.jpg",precio:50,descuento:0,sexo:"h",id:1}];
//# sourceMappingURL=bundle.js.map
