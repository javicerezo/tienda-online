{"version":3,"sources":["app.js","baseDatos.js"],"names":["btnBuscador","document","querySelector","btnConsulta","btnChat","btnContacto","formularioNewsletter","contenedorDestacados","contenedorNumArticulos","contenedorCarrito","articulosCarrito","ui","[object Object]","contenedor","firstChild","removeChild","producto","infoProducto","imagen","src","marca","textContent","nombre","precioNew","parseInt","precio","descuento","id","getAttribute","cantidad","this","agregarCarrito","some","art","articulosModificadosCarrito","map","imprimircarrito","console","log","limpiarHTML","parentElement","children","forEach","articulo","li","createElement","classList","add","innerHTML","appendChild","childElementCount","sumaPrecios","reduce","total","comprobarCarrito","length","numeroArticulos","destacados","d","i","mostrarContacto","toggle","mostrarRadioButton","addEventListener","value","remove","window","imprimirDestacados","e","target","contains","productoSeleccionado","leerArticulo","sexo"],"mappings":"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","file":"bundle.js","sourcesContent":["(function (){ \r\n    // VARIABLES \r\n    // variables para eventos\r\n    const btnBuscador = document.querySelector('.js-header__centro')\r\n    const btnConsulta = document.querySelector('.js-submenu__boton-consulta');\r\n    const btnChat = document.querySelector('.js-submenu__boton-chat');\r\n    const btnContacto = document.querySelector('.js-contacto');\r\n    const formularioNewsletter = document.querySelector('.js-newsletter__form');\r\n\r\n    // Variables contenedor para inyeccion dinámica de resultados\r\n    const contenedorDestacados = document.querySelector('.js-item__grid');\r\n    const contenedorNumArticulos = document.querySelector('.js-menus__cesta-numero');\r\n    const contenedorCarrito = document.querySelector('.js-menus__cesta');\r\n\r\n    let articulosCarrito = [];\r\n    \r\n    // CLASES\r\n    class UI {\r\n        limpiarHTML (contenedor) {\r\n            while (contenedor.firstChild) {\r\n                contenedor.removeChild(contenedor.firstChild);\r\n            }\r\n        }\r\n\r\n        leerArticulo (producto) {\r\n            // creo obj con el contenido del producto \r\n            const infoProducto = {\r\n                imagen: producto.querySelector('img').src,\r\n                marca: producto.querySelector('.c-item__contenido-titulo:first-Child').textContent,\r\n                nombre: producto.querySelector('.c-item__contenido-titulo:last-Child').textContent,\r\n                precioNew: parseInt(producto.querySelector('.c-item__contenido-precio').textContent),\r\n                precio: parseInt(producto.querySelector('.c-item__contenido-precio--old').textContent),\r\n                descuento: parseInt(producto.querySelector('.c-item__descuento p').textContent),\r\n                id: producto.querySelector('.c-button').getAttribute('data-id'),\r\n                cantidad: 1\r\n            };     \r\n            this.agregarCarrito(infoProducto);\r\n        }\r\n\r\n        agregarCarrito (producto) {\r\n            // comprueba si existe en el producto y añade producto entero, o modifica su cantidad\r\n            const existe = articulosCarrito.some( art => art.id === producto.id );\r\n            if (existe) { \r\n                const articulosModificadosCarrito = articulosCarrito.map( art => {\r\n                    if (art.id === producto.id) {\r\n                        art.cantidad++;\r\n                        return art; //retorna obj modificado en cantidad\r\n                    } else {\r\n                        return art; //retorna los demás obj no duplicados\r\n                    }\r\n                });\r\n                articulosCarrito = [... articulosModificadosCarrito];\r\n                this.imprimircarrito(articulosCarrito);\r\n            } else {\r\n                articulosCarrito = [...articulosCarrito, producto];\r\n                this.imprimircarrito(articulosCarrito);\r\n            }\r\n        }\r\n\r\n        imprimircarrito (articulosCarrito){\r\n            console.log(articulosCarrito)\r\n            this.limpiarHTML(contenedorCarrito);\r\n            this.limpiarHTML(contenedorCarrito.parentElement.children[1]);\r\n\r\n            // imprime los artículos del array articulosCarrito\r\n            articulosCarrito.forEach( articulo => {\r\n                const {imagen, marca, nombre, precioNew, precio, descuento, cantidad} = articulo;\r\n                const li = document.createElement('li');\r\n                li.classList.add('c-submenus__secciones','c-submenus__secciones--mod3');\r\n                li.innerHTML = `\r\n                    <div class=\"c-submenus__img\">\r\n                        <img src=\"${imagen}\" alt=\"imagen producto\">\r\n                    </div>\r\n                    <div class=\"c-submenus__contenido\">\r\n                        <p class=\"c-submenus__nombre\"><span>${marca}</span> - ${nombre}</p>\r\n                        <div class='c-submenus__precios'>\r\n                        <p><span>${precioNew} €</span></p>\r\n                        <p>(${descuento}%) - <span class=\"c-submenus__precios-old\">${precio}€</span></p>\r\n                        </div>\r\n                        <p class=\"c-submenus__contenido-cantidad\">Cantidad: ${cantidad} €<a href=\"#\" class=\"c-submenus__eliminar\">Eliminar</a></p>\r\n                    </div>\r\n                `;\r\n                contenedorCarrito.appendChild(li);\r\n                if(descuento == 0) {\r\n                    console.log(' no tiene descuento')\r\n                }\r\n            });\r\n\r\n            // imprime el precio total de los articulos de articulosCarrito\r\n            if(contenedorCarrito.childElementCount != 0) {\r\n                let sumaPrecios = articulosCarrito.reduce( (total, producto) => total += producto.cantidad*producto.precio, 0);\r\n                const total = document.createElement('div');\r\n                total.innerHTML = `\r\n                    <div class=\"c-submenus__separador\">total: ${sumaPrecios}</div>\r\n                    <div class=\"c-submenus__resultado\">\r\n                        <a href=\"#\" class=\"c-submenus__ver-cesta\">Ver la cesta</a>\r\n                        <button class=\"c-button c-button--amarillo\">tramitar</button>\r\n                    </div>\r\n                `; \r\n                contenedorCarrito.parentElement.children[1].appendChild(total);   \r\n            }\r\n            this.comprobarCarrito(articulosCarrito);\r\n        }\r\n\r\n        comprobarCarrito (articulosCarrito) {\r\n            if(articulosCarrito.length == 0) {\r\n                const articulo = document.createElement ('li');\r\n                articulo.classList.add('c-submenus__secciones');\r\n                articulo.innerHTML = `\r\n                    <p>En este momento no hay productos en tu cesta.</p>\r\n                `;\r\n                contenedorCarrito.appendChild(articulo);\r\n                ui.numeroArticulos(0);\r\n            } else {\r\n                const cantidad = articulosCarrito.reduce( (total, producto) => total + producto.cantidad, 0);\r\n                ui.numeroArticulos(cantidad);\r\n            }\r\n        }\r\n    \r\n        numeroArticulos (cantidad) {\r\n            this.limpiarHTML(contenedorNumArticulos);\r\n\r\n            const numeroArticulos = document.createElement('p');\r\n            numeroArticulos.textContent = cantidad;\r\n            contenedorNumArticulos.appendChild(numeroArticulos);\r\n        }\r\n\r\n        imprimirDestacados (destacados) {\r\n            // destacados es un array en baseDatos.js\r\n            destacados.forEach( d => {\r\n                const {marca, nombre, imagen, precio, descuento, id} = d;\r\n                const precioNew = precio * ((100-descuento)/100);\r\n                const articulo = document.createElement('div');                    \r\n                articulo.classList.add('c-item__articulo');\r\n                articulo.innerHTML = `                        \r\n                    <div class='c-item__descuento'>\r\n                        <p>${descuento}%</p>\r\n                    </div>\r\n                    <div class='c-item__img'>\r\n                        <img src='${imagen}' alt='imagen producto'>\r\n                    </div>                        \r\n                    <div class='c-item__contenido'>\r\n                        <div class='c-item__contenido--mod'>\r\n                            <p class='c-item__contenido-titulo'><span>${marca}</span></p>\r\n                            <p class='c-item__contenido-titulo'>${nombre}</p>\r\n                        </div>\r\n                        <div class ='c-item__contenido--mod'>\r\n                            <p class='c-item__contenido-precio'>${precioNew} €</p>  \r\n                            <p class='c-item__contenido-precio--old'>${precio} €</p>                        \r\n                    </div>\r\n                    <button class=\"c-button c-button--amarillo\" data-id=${id}>Añadir a la cesta</button>\r\n                    </div>\r\n                `;\r\n                contenedorDestacados.appendChild(articulo);\r\n            });\r\n            // hago un repaso de los articulos sin descuento\r\n            for(let i=0; i<contenedorDestacados.childElementCount; i++) {\r\n                let descuento = parseInt(contenedorDestacados.children[i].children[0].children[0].textContent);\r\n                if (descuento === 0) {\r\n                    contenedorDestacados.children[i].children[0].classList.add('u-display--none');\r\n                    contenedorDestacados.children[i].children[2].children[1].children[1].classList.add('u-display--none');\r\n                }\r\n\r\n            }\r\n        }\r\n        \r\n        imprimirAlerta () {\r\n            console.log('soy una alerta');\r\n        }\r\n    }\r\n \r\n    // INSTANCIAS DE CLASE\r\n    const ui = new UI();\r\n\r\n    // EVENTOS\r\n    window.addEventListener('DOMContentLoaded', () => {\r\n        ui.comprobarCarrito(articulosCarrito);\r\n        ui.imprimirDestacados(destacados);\r\n        \r\n        btnConsulta.addEventListener('click', mostrarContacto);\r\n        btnContacto.children[0].addEventListener('click', mostrarContacto);\r\n        formularioNewsletter.children[0].addEventListener('click', mostrarRadioButton);\r\n        btnChat.addEventListener('click', () => {\r\n            console.log('has pulsado el boton del chat');\r\n        })\r\n        btnBuscador.addEventListener('click', () => {\r\n            console.log('has pulsado el buscador');\r\n        })\r\n        contenedorDestacados.addEventListener('click', (e) => {\r\n            if (e.target.classList.contains('c-button')){\r\n                const productoSeleccionado = e.target.parentElement.parentElement;\r\n                ui.leerArticulo(productoSeleccionado);            \r\n            }\r\n        })\r\n    })\r\n\r\n\r\n    // FUNCIONES\r\n    function mostrarContacto () {\r\n        btnContacto.children[1].classList.toggle('c-contacto__screen--mod');\r\n        btnContacto.children[0].children[0].classList.toggle('c-contacto__img--mod');\r\n        btnContacto.children[0].children[0].classList.toggle('fa-envelope');\r\n        btnContacto.children[0].children[0].classList.toggle('fa-xmark');\r\n        btnContacto.children[0].children[0].classList.toggle('fa-solid');\r\n        btnContacto.children[0].children[0].classList.toggle('fa-regular'); \r\n    };\r\n    function mostrarRadioButton() {\r\n        formularioNewsletter.children[2].classList.add('c-newsletter__form-radio--mod');\r\n        formularioNewsletter.children[0].addEventListener('input', () => {\r\n            if(formularioNewsletter.children[0].value != '') {\r\n                formularioNewsletter.children[1].classList.add('c-newsletter__label--mod');\r\n    \r\n            } else {\r\n                formularioNewsletter.children[1].classList.remove('c-newsletter__label--mod');\r\n            }\r\n        });\r\n    };\r\n\r\n})();","const destacados = [\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 1',\r\n        imagen: 'build/img/destacados/destacados1.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'h',\r\n        id: 1\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 2',\r\n        imagen: 'build/img/destacados/destacados2.jpg',\r\n        precio: 50,\r\n        descuento: 10,\r\n        sexo: 'm',\r\n        id: 2\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 3',\r\n        imagen: 'build/img/destacados/destacados3.jpg',\r\n        precio: 50,\r\n        descuento: 15,\r\n        sexo: 'u',\r\n        id: 3\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 4',\r\n        imagen: 'build/img/destacados/destacados4.jpg',\r\n        precio: 50,\r\n        descuento: 50,\r\n        sexo: 'u',\r\n        id: 4\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 5',\r\n        imagen: 'build/img/destacados/destacados5.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'u',\r\n        id: 5\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 5',\r\n        imagen: 'build/img/destacados/destacados5.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'u',\r\n        id: 5\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 5',\r\n        imagen: 'build/img/destacados/destacados5.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'u',\r\n        id: 5\r\n    }, \r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 1',\r\n        imagen: 'build/img/destacados/destacados1.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'h',\r\n        id: 1\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 1',\r\n        imagen: 'build/img/destacados/destacados1.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'h',\r\n        id: 1\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 1',\r\n        imagen: 'build/img/destacados/destacados1.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'h',\r\n        id: 1\r\n    }\r\n];"]}