{"version":3,"sources":["app.js","baseDatos.js"],"names":["btnBuscador","document","querySelector","btnConsulta","btnChat","btnContacto","formularioNewsletter","contenedorDestacados","contenedorNumArticulos","contenedorCarrito","articulosCarrito","ui","[object Object]","contenedor","firstChild","removeChild","producto","children","classList","contains","infoProducto","imagen","src","marca","textContent","nombre","precio","descuento","id","getAttribute","cantidad","this","agregarCarrito","some","art","articulosModificadosCarrito","map","imprimircarrito","limpiarHTML","parentElement","forEach","articulo","li","createElement","add","innerHTML","appendChild","childElementCount","sumaPrecios","reduce","total","comprobarCarrito","length","numeroArticulos","destacados","d","precioOld","console","log","mostrarContacto","toggle","mostrarRadioButton","addEventListener","value","remove","window","imprimirDestacados","e","target","productoSeleccionado","leerArticulo","sexo"],"mappings":"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","file":"bundle.js","sourcesContent":["(function (){ \r\n    // VARIABLES \r\n    // variables para eventos\r\n    const btnBuscador = document.querySelector('.js-header__centro')\r\n    const btnConsulta = document.querySelector('.js-submenu__boton-consulta');\r\n    const btnChat = document.querySelector('.js-submenu__boton-chat');\r\n    const btnContacto = document.querySelector('.js-contacto');\r\n    const formularioNewsletter = document.querySelector('.js-newsletter__form');\r\n\r\n    // Variables contenedor para inyeccion dinámica de resultados\r\n    const contenedorDestacados = document.querySelector('.js-item__grid');\r\n    const contenedorNumArticulos = document.querySelector('.js-menus__cesta-numero');\r\n    const contenedorCarrito = document.querySelector('.js-menus__cesta');\r\n\r\n    let articulosCarrito = [];\r\n    \r\n    // CLASES\r\n    class UI {\r\n        limpiarHTML (contenedor) {\r\n            while (contenedor.firstChild) {\r\n                contenedor.removeChild(contenedor.firstChild);\r\n            }\r\n        }\r\n\r\n        leerArticulo (producto) {\r\n            // creo obj con el contenido del producto diferenciando si tiene descuento o no\r\n            if (producto.children[0].classList.contains('c-item__descuento')){\r\n                const infoProducto = {\r\n                    imagen: producto.querySelector('img').src,\r\n                    marca: producto.querySelector('.c-item__contenido-h4 span').textContent,\r\n                    nombre: producto.querySelector('.c-item__contenido-h4').textContent,\r\n                    precio: producto.querySelector('.c-item__contenido-precio').textContent,\r\n                    descuento: producto.querySelector('.c-item__descuento p').textContent,\r\n                    id: producto.querySelector('.c-button').getAttribute('data-id'),\r\n                    cantidad: 1\r\n                };               \r\n                this.agregarCarrito(infoProducto);\r\n            } else {\r\n                const infoProducto = {\r\n                    imagen: producto.querySelector('img').src,\r\n                    marca: producto.querySelector('.c-item__contenido-h4 span').textContent,\r\n                    nombre: producto.querySelector('.c-item__contenido-h4').textContent,\r\n                    precio: producto.querySelector('.c-item__contenido-precio').textContent,\r\n                    id: producto.querySelector('.c-button').getAttribute('data-id'),\r\n                    cantidad: 1\r\n                };\r\n                this.agregarCarrito(infoProducto);\r\n            };\r\n        }\r\n\r\n        agregarCarrito (producto) {\r\n            // comprueba si existe en el producto y añade producto entero, o modifica su cantidad\r\n            const existe = articulosCarrito.some( art => art.id === producto.id );\r\n            if (existe) { \r\n                const articulosModificadosCarrito = articulosCarrito.map( art => {\r\n                    if (art.id === producto.id) {\r\n                        art.cantidad++;\r\n                        return art; //retorna obj modificado en cantidad\r\n                    } else {\r\n                        return art; //retorna los demás obj no duplicados\r\n                    }\r\n                });\r\n                articulosCarrito = [... articulosModificadosCarrito];\r\n                this.imprimircarrito(articulosCarrito);\r\n            } else {\r\n                articulosCarrito = [...articulosCarrito, producto];\r\n                this.imprimircarrito(articulosCarrito);\r\n            }\r\n        }\r\n\r\n        imprimircarrito (articulosCarrito){\r\n            this.limpiarHTML(contenedorCarrito);\r\n            this.limpiarHTML(contenedorCarrito.parentElement.children[1]);\r\n\r\n            // imprime los artículos del array articulosCarrito\r\n            articulosCarrito.forEach( articulo => {\r\n                const {imagen, marca, nombre, precio, cantidad} = articulo;\r\n                const li = document.createElement('li');\r\n                li.classList.add('c-submenus__secciones','c-submenus__secciones--mod3');\r\n                li.innerHTML = `\r\n                <div class=\"c-submenus__img\">\r\n                    <img src=\"${imagen}\" alt=\"imagen producto\">\r\n                    </div>\r\n                    <div class=\"c-submenus__contenido\">\r\n                    <p class=\"c-submenus__contenido-nombre\"><span>${marca}</span> ${nombre}</p>\r\n                    <p class=\"c-submenus__contenido-precio\"><span>${precio}</span></p>\r\n                    <p class=\"c-submenus__contenido-cantidad\">Cantidad: ${cantidad}<a href=\"#\" class=\"c-submenus__eliminar\">Eliminar</a></p>\r\n                </div>\r\n                `;\r\n                contenedorCarrito.appendChild(li);\r\n            });\r\n\r\n            // imprime el precio total de los articulos de articulosCarrito\r\n            if(contenedorCarrito.childElementCount != 0) {\r\n                let sumaPrecios = articulosCarrito.reduce( (total, producto) => total + producto.precio, 0);\r\n                const total = document.createElement('div');\r\n                total.innerHTML = `\r\n                    <div class=\"c-submenus__separador\">total: ${sumaPrecios}</div>\r\n                    <div class=\"c-submenus__resultado\">\r\n                        <a href=\"#\" class=\"c-submenus__ver-cesta\">Ver la cesta</a>\r\n                        <button class=\"c-button c-button--amarillo\">tramitar</button>\r\n                    </div>\r\n                `; \r\n                contenedorCarrito.parentElement.children[1].appendChild(total);   \r\n            }\r\n            this.comprobarCarrito(articulosCarrito);\r\n        }\r\n\r\n        comprobarCarrito (articulosCarrito) {\r\n            if(articulosCarrito.length == 0) {\r\n                const articulo = document.createElement ('li');\r\n                articulo.classList.add('c-submenus__secciones');\r\n                articulo.innerHTML = `\r\n                    <p>En este momento no hay productos en tu cesta</p>\r\n                `;\r\n                contenedorCarrito.appendChild(articulo);\r\n                ui.numeroArticulos(0);\r\n            } else {\r\n                const cantidad = articulosCarrito.reduce( (total, producto) => total + producto.cantidad, 0);\r\n                ui.numeroArticulos(cantidad);\r\n            }\r\n        }\r\n    \r\n        numeroArticulos (cantidad) {\r\n            this.limpiarHTML(contenedorNumArticulos);\r\n\r\n            const numeroArticulos = document.createElement('p');\r\n            // numeroArticulos.classList.add('c-menus__cesta-numero');\r\n            numeroArticulos.textContent = cantidad;\r\n            // contenedorCarrito.parentElement.parentElement.parentElement.children[0].appendChild(numeroArticulos);\r\n            contenedorNumArticulos.appendChild(numeroArticulos);\r\n        }\r\n\r\n        imprimirDestacados (destacados) {\r\n            // destacados es un array en baseDatos.js\r\n            destacados.forEach( d => {\r\n                const {marca, nombre, imagen, precio, descuento, id} = d;\r\n                if(descuento == 0) {\r\n                    const articulo = document.createElement('div');\r\n                    articulo.classList.add('c-item__articulo');\r\n                    articulo.innerHTML = `\r\n                        <div class='c-item__img'><img src='${imagen}' alt='imagen producto'></div>\r\n                        <div class='c-item__contenido'>\r\n                            <h4 class='c-item__contenido-h4'><span>${marca}</span> ${nombre}</h4>\r\n                            <p class='c-item__contenido-precio'>${precio} €</p>\r\n                            <button class=\"c-button c-button--amarillo\" data-id=${id}>Añadir a la cesta</button>\r\n                        </div>\r\n                    `;\r\n                    contenedorDestacados.appendChild(articulo);\r\n                } else {\r\n                    const precioOld = precio * ((100-descuento)/100);\r\n                    const articulo = document.createElement('div');                    \r\n                    articulo.classList.add('c-item__articulo');\r\n                    articulo.innerHTML = `                        \r\n                        <div class='c-item__descuento'>\r\n                            <p>${descuento}%</p>\r\n                        </div>\r\n                        <div class='c-item__img'><img src='${imagen}' alt='imagen producto'></div>\r\n                        <div class='c-item__contenido'>\r\n                            <h4 class='c-item__contenido-h4'><span>${marca}</span> ${nombre}</h4>\r\n                            <p class='c-item__contenido-precio'>${precio} € <span class='c-item__contenido-precio--old'>${precioOld} €</span></p>\r\n                            <button class=\"c-button c-button--amarillo\" data-id=${id}>Añadir a la cesta</button>\r\n                        </div>\r\n                    `;\r\n                    contenedorDestacados.appendChild(articulo);\r\n                }\r\n            });\r\n        }\r\n        \r\n        imprimirAlerta () {\r\n            console.log('soy una alerta');\r\n        }\r\n    }\r\n \r\n    // INSTANCIAS DE CLASE\r\n    const ui = new UI();\r\n\r\n    // EVENTOS\r\n    window.addEventListener('DOMContentLoaded', () => {\r\n        ui.comprobarCarrito(articulosCarrito);\r\n        ui.imprimirDestacados(destacados);\r\n        \r\n        btnConsulta.addEventListener('click', mostrarContacto);\r\n        btnContacto.children[0].addEventListener('click', mostrarContacto);\r\n        formularioNewsletter.children[0].addEventListener('click', mostrarRadioButton);\r\n        btnChat.addEventListener('click', () => {\r\n            console.log('has pulsado el boton del chat');\r\n        })\r\n        btnBuscador.addEventListener('click', () => {\r\n            console.log('has pulsado el buscador');\r\n        })\r\n        contenedorDestacados.addEventListener('click', (e) => {\r\n            if (e.target.classList.contains('c-button')){\r\n                const productoSeleccionado = e.target.parentElement.parentElement;\r\n                ui.leerArticulo(productoSeleccionado);            \r\n            }\r\n        })\r\n    })\r\n\r\n\r\n    // FUNCIONES\r\n    function mostrarContacto () {\r\n        btnContacto.children[1].classList.toggle('c-contacto__screen--mod');\r\n        btnContacto.children[0].children[0].classList.toggle('c-contacto__img--mod');\r\n        btnContacto.children[0].children[0].classList.toggle('fa-envelope');\r\n        btnContacto.children[0].children[0].classList.toggle('fa-xmark');\r\n        btnContacto.children[0].children[0].classList.toggle('fa-solid');\r\n        btnContacto.children[0].children[0].classList.toggle('fa-regular'); \r\n    };\r\n    function mostrarRadioButton() {\r\n        formularioNewsletter.children[2].classList.add('c-newsletter__form-radio--mod');\r\n        formularioNewsletter.children[0].addEventListener('input', () => {\r\n            if(formularioNewsletter.children[0].value != '') {\r\n                formularioNewsletter.children[1].classList.add('c-newsletter__label--mod');\r\n    \r\n            } else {\r\n                formularioNewsletter.children[1].classList.remove('c-newsletter__label--mod');\r\n            }\r\n        });\r\n    };\r\n\r\n})();","const destacados = [\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 1',\r\n        imagen: 'build/img/destacados/destacados1.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'h',\r\n        id: 1\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 2',\r\n        imagen: 'build/img/destacados/destacados2.jpg',\r\n        precio: 50,\r\n        descuento: 10,\r\n        sexo: 'm',\r\n        id: 2\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 3',\r\n        imagen: 'build/img/destacados/destacados3.jpg',\r\n        precio: 50,\r\n        descuento: 15,\r\n        sexo: 'u',\r\n        id: 3\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 4',\r\n        imagen: 'build/img/destacados/destacados4.jpg',\r\n        precio: 50,\r\n        descuento: 50,\r\n        sexo: 'u',\r\n        id: 4\r\n    },\r\n    {\r\n        marca: 'marca',\r\n        nombre: 'producto 5',\r\n        imagen: 'build/img/destacados/destacados5.jpg',\r\n        precio: 50,\r\n        descuento: 0,\r\n        sexo: 'u',\r\n        id: 5\r\n    }\r\n];"]}